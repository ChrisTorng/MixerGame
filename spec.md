# 混音器操控練習遊戲功能規格

## 1. 遊戲概述

這是一個專為學習混音器的初學者設計的混音器操控練習遊戲。遊戲使用 TypeScript、HTML、CSS 和 WebAudio API 技術開發，提供專業水準的外觀和良好的架構。

## 2. 用戶界面

### 2.1 主要元件
- 標題：「混音器遊戲」
- 播放控制區
- 音軌滑桿區
- 遊戲控制區

### 2.2 播放控制區
- 播放/暫停按鈕
- 時間軸滑桿

### 2.3 音軌滑桿區
- 六個音軌滑桿（人聲、吉他、鋼琴、其他、貝斯、鼓）
- 主音量滑桿

### 2.4 遊戲控制區
- 提交按鈕
- 模式切換開關
- 分數顯示

## 3. 功能詳情

### 3.1 音頻載入與播放
- 初次點擊播放按鈕時，載入所有音軌
- 載入完成後，播放按鈕變為可用狀態
- 支援播放、暫停功能
- 可通過時間軸滑桿調整播放位置

### 3.2 音量控制
- 每個音軌都有獨立的音量滑桿
- 滑桿範圍從 -∞ dB 到 14 dB
- 主音量滑桿控制整體輸出音量

### 3.3 遊戲玩法
- 原始輸入音軌音量為正確比例
- 系統隨機生成一組音量設置作為混音器輸入，但不讓玩家得知
- 混音器預設設置為 0 dB，推桿位置為正中央。這代表玩家一開始聽到的音量比例是受隨機之輸入所影響之錯誤比例
- 玩家調整各音軌音量，嘗試匹配目標設置。這代表玩家要補償未知之隨機音量比例直至原始的正確比例
- 比如隨機音量是兩倍的話，玩家要將音量推桿調整到原來的一半，就會回到正確比例，達成遊戲目標
- 玩家可隨時提交當前設置
- 提交後，系統計算並顯示分數

### 3.4 比較模式
- 玩家可通過切換開關進入比較模式
- 比較模式下，音量設置為系統生成的目標設置
- 玩家可在原始設置和目標設置間切換，以聽取差異

### 3.5 分數計算
- 基於玩家設置與目標設置的差異計算分數
- 分數範圍為 0-100 分
- 分數顯示在遊戲控制區

## 4. 技術實現

### 4.1 音頻處理
- 使用 WebAudio API 進行音頻處理
- 每個音軌使用獨立的 AudioBufferSourceNode 和 GainNode
- 使用 AnalyserNode 進行音頻分析（預留功能）

### 4.2 用戶界面
- 使用自定義的 VolumeSlider Web Component 實現音量滑桿
- 響應式設計，適應不同螢幕尺寸

### 4.3 狀態管理
- 使用 TypeScript 類 (MixerGame) 管理遊戲狀態和邏輯

## 5. 擴展性

- 音軌數量可輕易調整
- 預留音頻分析功能，可擴展為視覺化顯示
- 可添加不同難度級別或更多遊戲模式