<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>混音器游戲</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="mixer-container">
        <h1>混音器游戲</h1>

        <div class="transport-controls">
            <button id="playPauseBtn">載入</button>
            <input type="range" id="timeSlider" min="0" max="100" value="0">
        </div>

        <div class="faders-container">
            <volume-slider id="vocal-fader" name="人聲"></volume-slider>
            <volume-slider id="guitar-fader" name="吉他"></volume-slider>
            <volume-slider id="piano-fader" name="鋼琴"></volume-slider>
            <volume-slider id="other-fader" name="其他"></volume-slider>
            <volume-slider id="bass-fader" name="貝斯"></volume-slider>
            <volume-slider id="drum-fader" name="鼓"></volume-slider>
            <volume-slider id="master-volume" name="主音量"></volume-slider>
        </div>

        <div class="game-controls">
            <button id="submitBtn">提交</button>
            <div id="modeToggle" class="toggle-container">
                <span id="currentSettingLabel">目前設置</span>
                <label class="switch">
                    <input type="checkbox" id="modeToggleCheckbox">
                    <span class="slider"></span>
                </label>
                <span id="comparisonLabel">原版混音</span>
            </div>
            <div>分數: <span id="scoreDisplay" style="visibility: hidden;">00</span></div>
        </div>
    </div>
    <script>
        (function() {
            var script = document.createElement('script');
            var isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
            script.src = isLocalhost ? 'http://localhost:9000/bundle.js' : '../dist/bundle.min.js';
            script.onerror = function() {
                console.error('無法載入腳本：' + script.src);
                if (isLocalhost) {
                    alert('無法載入開發版本腳本。請確保你已運行 "npm start" 或 "npm run watch"。');
                } else {
                    alert('無法載入生產版本腳本。請確保你已運行 "npm run build" 並正確部署了文件。');
                }
            };
            document.body.appendChild(script);
        })();
    </script>
</body>
</html>