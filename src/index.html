<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>混音器遊戲</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="mixer-container">
        <h1>混音器遊戲</h1>

        <div class="transport-controls">
            <button id="playPauseBtn">載入</button>
            <input type="range" id="timeSlider" min="0" max="100" value="0">
        </div>

        <div class="faders-container">
            <volume-slider id="vocal-fader" name="人聲"></volume-slider>
            <volume-slider id="guitar-fader" name="吉他"></volume-slider>
            <volume-slider id="piano-fader" name="鋼琴"></volume-slider>
            <volume-slider id="other-fader" name="其他"></volume-slider>
            <volume-slider id="bass-fader" name="貝斯"></volume-slider>
            <volume-slider id="drum-fader" name="鼓"></volume-slider>
            <volume-slider id="master-volume" name="主音量"></volume-slider>
        </div>

        <div class="game-controls">
            <button id="submitBtn">提交</button>
            <div id="modeToggle" class="toggle-container">
                <span id="currentSettingLabel" class="toggle-label" role="button" tabindex="0" aria-disabled="true">目前設置</span>
                <label class="switch">
                    <input type="checkbox" id="modeToggleCheckbox">
                    <span class="slider"></span>
                </label>
                <span id="comparisonLabel" class="toggle-label" role="button" tabindex="0" aria-disabled="false">原版混音</span>
            </div>
            <div id="scoreContainer">分數: <span id="scoreDisplay" style="visibility: hidden;">00</span></div>
        </div>
    </div>
    <!-- 動態判斷本機開發或佈署，載入對應 JS -->
    <script>
      // 開發：由 webpack-dev-server 於根路徑提供 /bundle.js（存在於記憶體中）
      const isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
      const script = document.createElement('script');
      script.src = isLocal ? '/bundle.js' /* '../dist/bundle.js' // local build */
                           : '../dist/bundle.min.js';
      document.body.appendChild(script);
    </script>
</body>
</html>
